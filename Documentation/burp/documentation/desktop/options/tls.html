<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../../../../assets/ps/styles/psselfservice.css">
<cms page-layout="FREESTYLE"></cms>
</head>
<body class="section theme-white wrapper-themed">
<section class="container ps-breadcrumbs">
    <ol class="breadcrumb-list">
        <li>
            <a href="https://portswigger.net/support">サポートセンタ</a>
        </li>
        <li>
            <a href="../../index.html">ドキュメント</a>
        </li>
        <li>
            <a href="../index.html">デスクトップ版</a>
        </li>
        <li>
            <a href="index.html">オプション</a>
        </li>
        <li>
            <a href="tls.html">TLS</a>
        </li>
    </ol>
</section>
<section class="container labels-editions-wrapper">
    <label class="label-edition is-professional">Professional</label>
    <label class="label-edition is-community">Community</label>
</section>
<h1>オプション: TLS</h1>
<p>
    このタブには、<a href="#tls-negotiation">TLSネゴシエーション</a>、<a href="#java-tls-options">Java TLSオプション</a>、<a href="#client-tls-certificates">クライアント</a>と<a href="#server-tls-certificates">サーバ</a>のTLS証明書の設定があります。
</p>
<div class="highlightedarea">
    <h4>注</h4>
    <p>
        これらのいくつかのオプションは、ユーザレベルとプロジェクトレベルの両方で定義されます。ユーザレベルで通常のオプションを設定し、必要な場合はプロジェクトごとに上書きできます。
    </p>
</div>
<h2 id="tls-negotiation">TLSネゴシエーション</h2>
<p>
    Burpが上位のサーバとTLSネゴシエーションを実行するときに使う、TLSプロトコルと暗号を制御します。すべてのプロトコルと暗号を使う、またはJavaのデフォルトのプロトコルと暗号を使うようにもできますし、必要に応じてこれらのデフォルト値を上書きして個別のプロトコルと暗号のみを有効にもできます。
</p>
<p>
    他に次のオプションがあります:
</p>
<ul>
    <li>
        <strong>安全ではないTLSリネゴシエーションを許可する</strong> - このオプションは、クライアントTLS証明書を使うときや、他のTLSの問題を回避するのに必要な場合があります。
    </li>
    <li>
        <strong>TLSセッションの再開を無効にする</strong> - このオプションは、TLS接続をキャッシュし、リクエスト間で再利用するかどうかを制御します。セッション再開を使用すると、一般的には効率が良くなりますが、状況によっては問題が発生します。
    </li>
</ul>
<h3 id="verify-upstream-tls">アップストリームTLSの検証</h3>
<p>
    Burp Suiteは、<code>portswigger.net</code>や公開Burp Collaboratorサーバなどの既知のサービスに接続する際に、TLSを常に完全に検証しています。しかし、その他のWebサイトと通信する際は、デフォルトでアップストリームのTLS証明書を検証せず、かつ弱い暗号をサポートします。WebサイトはHTTPSを強制して、中間者(MITM)攻撃やDNSリバインディング攻撃から保護しますが、この対策を犠牲にして互換性を最大化します。
</p>
<p>
    テスト対象サイトとの通信がMITM攻撃を受ける懸念がある場合は、BurpがアップストリームのTLS証明書を検証するように設定できます。それには、<strong>プロジェクト設定 &gt; TLS</strong>で、<strong>アップストリームTLSの検証</strong>チェックボックスを選択します。
</p>
<p>
    併せて、Burpが弱い暗号を使用しないよう、<strong>Javaインストールのデフォルトプロトコルと暗号を使用する</strong>オプションの選択も推奨します。
</p>
<div class="highlightedarea">
    <h4>注</h4>
    <p>
        Burp Suiteは、証明書の失効を認識しません。以前は有効で、その後失効した証明書も受け入れます。
    </p>
</div>
<h2 id="java-tls-options">Java TLSオプション</h2>
<p>
    一部のサーバへ正常に接続するために必要となる、さまざまなTLS機能を有効にする設定です。
</p>
<p>
    次のオプションがあります:
</p>
<ul>
    <li>
        <strong>Javaセキュリティポリシーでブロックされたアルゴリズムを有効にする</strong> - Java 7で、Javaのセキュリティポリシーを使用すると、古いアルゴリズムがTLSネゴシエーションで使われるのをブロックしたり、他にもいくつか(MD2など)がブロックされます。多くの稼働しているWebサーバでは古いアルゴリズムのTLS証明書を使っており、デフォルトのJavaのセキュリティポリシーではこれらのサーバに接続できません。このオプションを有効にすると、影響を受けるサーバに接続するときBurpに古いアルゴリズムを強制できます。このオプションの変更は、Burpを再起動すると反映されます。
    </li>
    <li>
        <strong>Java SNI拡張を無効にする</strong> - Java 7で、TLS Server Name Indication(サーバ名表示、SNI)拡張が実装され、デフォルトで有効になっています。SNIの設定が正しくないまま有効にしているWebサーバは、TLSハンドシェイクで"Unrecognized name(認識できない名前)"という警告を送信します。ブラウザはこの警告を無視しますが、Java実装は無視せず接続に失敗します。この設定でJavaのSNI拡張を無効にすると、影響を受けていたサーバに接続できます。このオプションの変更は、Burpを再起動すると反映されます。
    </li>
</ul>
<h2 id="client-tls-certificates">クライアントTLS証明書</h2>
<p>
    宛先ホストがクライアントTLS証明書を要求してきたときに使う証明書を設定します。複数の証明書が設定でき、各証明書の使用対象とするホストを指定できます。ホストがクライアントTLS証明書を要求してきたとき、ホスト設定リストの名前に最初に一致する証明書を使用します。
</p>
<p>
    宛先ホストの指定にワイルドカードが使用できます(「*」は0個以上の文字にマッチ、「?」はドット以外の任意の文字にマッチ)。証明書を要求してきたどのホストにも同じ証明書を使うには、宛先ホストを「*」にします。
</p>
<p>
    次の種類のクライアント証明書がサポートされます:
</p>
<ul>
    <li>
        <strong>ファイル (PKCS#12)</strong> - これは<code>.p12</code>ファイル拡張子が必要なことに注意してください; <code>.psx</code>フォーマットの証明書はサポートしていません。証明書ファイルの場所と証明書のパスワードを設定する必要があります。
    </li>
    <li>
        <strong>ハードウェアトークンやスマートカード(PKCS#11)</strong> - デバイスのPKCS#11ライブラリファイルの場所とPINコードを設定し、有効な証明書の中から選択する必要があります。PKCS#11ライブラリファイルは、デバイス用のソフトウェアと一緒にインストールされているネイティブコードファイルです。Windowsでは、インストールされているライブラリファイルを一般的な場所から自動的に探せます。
    </li>
</ul>
<h2 id="server-tls-certificates">サーバTLS証明書</h2>
<p>
    この情報パネルには、Webサーバから受信したすべてのX509証明書の詳細があります。アイテムをダブルクリックすると、証明書の詳細が表示されます。
</p>
</body>
</html>