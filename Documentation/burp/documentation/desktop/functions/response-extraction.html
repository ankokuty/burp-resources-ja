<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../../../../assets/ps/styles/psselfservice.css">
<cms page-layout="FREESTYLE"></cms>
</head>
<body class="section theme-white wrapper-themed">
<section class="container ps-breadcrumbs">
    <ol class="breadcrumb-list">
        <li>
            <a href="https://portswigger.net/support">サポートセンタ</a>
        </li>
        <li>
            <a href="../../index.html">ドキュメント</a>
        </li>
        <li>
            <a href="../index.html">デスクトップ版</a>
        </li>
        <li>
            <a href="index.html">便利な機能</a>
        </li>
        <li>
            <a href="response-extraction.html">レスポンス抽出ルール</a>
        </li>
    </ol>
</section>
<section class="container labels-editions-wrapper">
    <label class="label-edition is-professional">Professional</label>
    <label class="label-edition is-community">Community</label>
</section>
<h1>レスポンス抽出ルール</h1>
<p>
    レスポンス抽出ルールはBurpのさまざまな箇所で使用され、レスポンス内で変化し抽出が必要なアイテム位置を定義します。Sequencerでのカスタム<a href="../tools/sequencer/sample.html#token-location-within-response">セッショントークン</a>の特定、Intruderでの<a href="../tools/intruder/options.html#grep-extract">抽出grep</a>アイテムの定義、マクロでの<a href="../settings/sessions/macros.html#custom-parameter-locations-in-response">カスタムパラメータ値</a>の位置指定で使用されます。
</p>
<p>
    さまざまな方法で、さまざまな複数のレスポンスから同じアイテムを抽出するようレスポンス抽出ルールは設計されており、アイテムの位置を非常に柔軟な方法で指定できます。
</p>
<p>
    抽出ルールを定義するダイアログには、上部パネルに現在の設定が、下部パネルにサンプルレスポンスが表示されます。まだ対象アプリケーションからレスポンスを取得していない場合は、<strong>レスポンス取得</strong>をクリックすると可能です。
</p>
<p>
    アイテムの場所を指定する最も簡単な方法は、サンプルレスポンス内でアイテムを単純に選択します。<strong>以下の選択を元に設定を更新</strong>チェックボックスがオンになっている場合、Burpは自動的に適切な設定を上部パネルに作成します。
</p>
<p>
    場合によっては、別のレスポンスを受信した場合に動作するように、手動で設定を変更する必要があります。使用可能なオプションは次の通りです。
</p>
<h4>開始と終了を定義</h4>
<p>
    抽出するアイテムの開始点と終了点を定義します。
</p>
<ul>
    <li>
        <strong>この後ろから開始</strong> - 抽出するアイテムの前にあるリテラル文字列を指定します。エスケープシーケンスを使用して非表示文字を表せます: <code>\r</code>は<code>CR</code>、 <code>\n</code>は<code>LF</code>, <code>\xNN</code>はASCII16進数コード<code>NN</code>の文字、<code>\\</code>はバックスラッシュ文字を表します。
    </li>
    <li>
        <strong>開始オフセット</strong> - レスポンス内でアイテムが始まる固定オフセットを指定します。
    </li>
    <li>
        <strong>この区切りで終了</strong> - 抽出するアイテムの後ろに続くリテラル文字列を指定します。<strong>この後ろから開始</strong>の説明と同じエスケープシーケンスを使用できます。
    </li>
    <li>
        <strong>固定長で終了</strong> - レスポンスから抽出するアイテムの先頭からの長さを固定長で指定します。
    </li>
</ul>
<h4>正規表現グループから定義</h4>
<p>
    グループを含む正規表現を指定し、マッチした場合グループの内容が抽出されます。たとえば、次の指定でHTML titleタグの内容を抽出できます:
</p>
<code class="code-scrollable">&lt;title&gt;(.*?)&lt;/title&gt;</code><p>
    または、次の指定でレスポンス内から6桁の数字を抽出できます:
</p>
<code class="code-scrollable">(\d\d\d\d\d\d)</code>
<h4>設定のテスト</h4>
<p>
    上部パネルの設定を手動で変更すると、レスポンスから抽出されたアイテムを自動的に強調表示します(存在する場合)。
</p>
<p>
    設定が完了したら、<strong>レスポンスを再取得</strong>ボタンを数回クリックし、設定をテストできます。Burpはレスポンスを再取得し抽出されるアイテム項目を自動的に強調表示するので、意図した通りに設定が動作しているかどうか確認できます。
</p>
</body>
</html>