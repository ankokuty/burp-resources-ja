<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../../../../../assets/ps/styles/psselfservice.css">
<cms page-layout="FREESTYLE"></cms>
</head>
<body class="section theme-white wrapper-themed">
<section class="container ps-breadcrumbs">
    <ol class="breadcrumb-list">
        <li>
            <a href="https://portswigger.net/support">サポートセンタ</a>
        </li>
        <li>
            <a href="../../../index.html">ドキュメント</a>
        </li>
        <li>
            <a href="../../index.html">デスクトップ版</a>
        </li>
        <li>
            <a href="../index.html">便利な機能</a>
        </li>
        <li>
            <a href="index.html">メッセージエディタ</a>
        </li>
    </ol>
</section>
<section class="container labels-editions-wrapper">
    <label class="label-edition is-professional">Professional</label>
    <label class="label-edition is-community">Community</label>
</section>
<h1>Burp Suiteメッセージエディタ</h1>
<p>
    メッセージエディタは、HTTPリクエストとレスポンス、WebSocketメッセージの表示や編集をするためにBurp全体で使用されます。メッセージ自体を表示するだけではなく、メッセージを素早く分析し、Burpのコア<a href="../../penetration-testing/index.html">ワークフロー</a>を推進し、他の便利なタスクの実行をするための多くの機能があります。
</p>
<p>
    メッセージエディタは主に次のパネルで構成されています:
</p>
<ul>
    <li>
        <a href="text-editor.html">テキストエディタ</a> - メッセージ自体を表示します
    </li>
    <li>
        折りたたみ可能な<a href="inspector.html">Inspector</a>パネル - HTTPメッセージやWebSocketの重要な詳細情報に素早くアクセスでき、<strong>Decoder</strong>タブに切り替えなくてもさまざまな基本的な操作が行えます。
    </li>
</ul>
<p>
    Inspectorの概要は、<a href="getting-started-inspector.html">Inspector入門</a>を参照してください。
</p>
<p>
    メッセージエディタの右上隅には、自分の好みに合わせてレイアウトを調整するためのアイコンが3つ並んでいます。次のオプションから選択できます:
</p>
<ul>
    <li>
        <strong>水平レイアウト:</strong> リクエストとレスポンスが左右に並べて配置されます。
    </li>
    <li>
        <strong>垂直レウアウト:</strong> リクエストとレスポンスが上下に並べて配置されます。
    </li>
    <li>
        <strong>結合ビュー:</strong> リクエストとレスポンスのどちらかがメッセージエディタペインに表示されます。対応するタブを使って交互に切り替えられます。
    </li>
</ul>
<h2 id="message-analysis-toolbar">メッセージ分析ツールバー</h2>
<p>
    各リクエストまたはレスポンスの上部には、メッセージ解析ツールバーがあります。ここにはメッセージの内容を別の形式で表現するタブがあり、一般的な操作を行う追加機能もあります。
</p>
<p>
    デフォルトで、<strong>Pretty</strong>、<strong>Raw</strong>、<strong>Hex</strong>、<strong>Render</strong>タブが表示されていますが、設定メニューでタブの削除、並び替え、<a href="#additional-tabs">追加</a>ができます。
</p>
<h3 id="raw-tab">Rawタブ</h3>
<p>
    このタブで<a href="text-editor.html">テキストエディタ</a>は、メッセージ全体を生の形式で表示します。テキストエディタには、<a href="text-editor.html#syntax-analysis">構文分析</a>、<a href="text-editor.html#text-editor-hotkeys">ホットキー</a>、<a href="text-editor.html#quick-search">テキスト検索</a>など便利な機能がいくつもあります。<strong>\n</strong>ボタンを使用すると、<a href="text-editor.html#non-printing-characters">印字不可能文字</a>が表示されます。
</p>
<p>
    Burp RepeaterなどBurpの一部のツールでは、テキストエディタでリクエストを直接編集もできます。
</p>
<p>
    <strong>Action</strong>メニューや、関連するメッセージのどこかをクリックすると、ツール全体で利用できる、リクエストとレスポンス両方に対する<a href="#context-specific-actions">コンテキスト固有のアクション</a>にアクセスできます。メッセージから1文字以上の文字を選択すると、その値を<a href="inspector.html">Inspector</a>で操作できます。
</p>
<h3 id="pretty-tab">Prettyタブ</h3>
<p>
    このタブでは、<strong>Raw</strong>タブと同じ機能にすべてアクセスできます。主な違いは、テキストエディタの<a href="text-editor.html#pretty-printing">整形表示</a>機能が有効になっていることです。これにより、HTTPメッセージ内のデータ、マークアップ、コードが、正規化されたインデントと改行で表示されるため可読性が大幅に向上します。
</p>
<p>
    編集可能なメッセージで、かつサポートされているテキスト形式であれば、入力をするたびに可能な限り動的に整形しようとします。それ以外の場合、リクエストを送信するときにテキストが整形されます。
</p>
<div class="highlightedarea">
    <h4>注</h4>
    <p>
        このタブは、<a href="text-editor.html#pretty-printing">サポートされているフォーマット</a>のいずれかがメッセージのコンテンツに含まれている場合にのみ表示されます。
    </p>
</div>
<h3 id="hex-tab">Hexタブ</h3>
<p>
    このタブでは、メッセージの生の形式をHexエディタで表示します。1行に16バイトを配置し、各バイトの16進数値を表示します。Hexタブでメッセージを編集でき、文字または00からFFまでの2桁の16進数で指定して値を挿入できます。
</p>
<p>
    選択したバイトはすべてInspectorに表示されます。Inspectorで直接か、テーブル内の値をダブルクリックすると、個々のバイトを直接編集できます。行番号をクリックするとバイトの行が選択され、選択した部分をInspectorで表示できます。
</p>
<p>
    Hexタブは、次の場合に便利です:
</p>
<ul>
    <li>
        各文字のコードポイントを表示または編集する。
    </li>
    <li>
        印字不可能文字を表示または挿入する。
    </li>
    <li>
        一部のバイトや文字列を挿入または削除する。
    </li>
</ul>
<p>
    このタブのコンテキストメニューには、さらに次のアイテムがあります:
</p>
<ul>
    <li>
        <strong>バイト挿入:</strong> 選択したバイトの前に1バイトを新たに挿入します。
    </li>
    <li>
        <strong>複数バイト挿入</strong> 選択したバイトの前に、要求したバイト数を新たに挿入します。
    </li>
    <li>
        <strong>文字列挿入</strong> 選択したバイトの前に、指定した文字列を挿入します。
    </li>
    <li>
        <strong>バイト削除</strong> 選択した1バイトを削除します。
    </li>
    <li>
        <strong>選択バイト削除</strong> 選択したバイト列を削除します。
    </li>
</ul>
<h3 id="render-tab">Renderタブ</h3>
<p>
    メッセージボディにHTMLや画像コンテンツを含むHTTPレスポンスに適用されます。ブラウザに表示されたときに表示される形式で、メッセージボディの内容をレンダリングしようとします。
</p>
<h3 id="additional-tabs">追加タブ</h3>
<p>
    メッセージエディタには、次のタブを追加できます:
</p>
<ul>
    <li>
        ヘッダ
    </li>
    <li>
        クエリーパラメータ
    </li>
    <li>
        ボディパラメータ
    </li>
    <li>
        Cookie
    </li>
    <li>
        属性
    </li>
</ul>
<p>
    これらのタブは、Inspectorパネルのウィジェットと同じ機能があります。
</p>
<div class="highlightedarea">
    <h4>注</h4>
    <p>
        Proxy履歴のような読み取り専用のコンテキストでは、適切なコンテンツがメッセージに含まれている場合にのみ、これらのタブを表示します。例えば、リクエストにcookieが1つ以上含まれていない限り、<strong>Cookie</strong>タブは表示されません。
    </p>
    <p>
        Burp Repeaterのような編集可能なコンテキストでは、とにかくタブは表示されます。これにより、元のリクエストに存在しなかったアイテムでも追加できます。
    </p>
</div>
<p>
    メッセージエディタにタブを追加するには、Inspectorパネルの右上にある設定アイコンをクリックし、<strong>メッセージエディタ</strong>オプションを選択します。
</p>
<div class="rounded-dropshadow">
    <img src="../../images/message-editor-additional-tab-settings.png" alt="メッセージエディタでタブを有効化">
</div>
<p>
    これらのタブは、Inspectorパネルのウィジェットと同じ機能があります。
</p>
<p>
    詳細は<a href="inspector.html">Inspectorのドキュメント</a>を参照してください。
</p>
<h3 id="extension-specific-tabs">拡張固有のタブ</h3>
<p>
    一部のBurp拡張は、メッセージエディタにタブを追加します。
</p>
<h3 id="actions-menu">Actionsメニュー</h3>
<p>
    <strong>Actions</strong>メニューから、現在のリクエストで利用できるすべての<a href="#context-specific-actions">コンテキスト固有のアクション</a>に素早くアクセスできます。
</p>
<h2 id="other-ways-of-using-the-message-editor">メッセージエディタのその他の使い方</h2>
<p>
    メッセージエディタでは、次も行えます:
</p>
<ul>
    <li>
        通常のHTTPメッセージエディタタブで、印字不可能文字を四角で表示するかどうかを切り替えられるようになりました。これを行うには、メッセージエディタのツールバーの<strong>\n</strong>ボタンを押します。
    </li>
    <li>
        文字のコードポイントを表示するには、HTTPメッセージで、印字可能、または印字不可能文字を選択します。Inspectorにエントリが表示され、文字の10進と16進コードポイントが表示されます。Burp Repeaterでのリクエストなど編集可能な場面では、この値を編集して選択した文字を上書きできます。
    </li>
    <li>
        既存のバイトのコードポイントをInspectorで編集すると、ヌルバイト、復帰、改行文字などの印字不可能文字を挿入できます。
    </li>
    <li>
        カーソルをリクエストの適切な位置に置いてEnter/Returnキーを押すと、CRLFを挿入できます。
    </li>
    <li>
        1バイトを挿入するには、リクエスト内の目的の位置にカーソルを置き、任意のプレースホルダ文字を入力します。Inspectorを使用して、それを適切なコードポイントに編集します。
    </li>
    <li>
        バイトを削除するには、リクエスト内の対応する文字を直接削除します。印刷不可能文字を削除するには、最初に<strong>\n</strong>ボタンを使用して表示しておくことを推奨します。
    </li>
</ul>
<div class="highlightedarea">
    <h4>注</h4>
    <p>
        Inspectorを使用して文字のコードポイントを編集する代わりに、選択範囲をURLエンコードし、16進コードをインラインで編集してから、選択範囲を元の形式にデコードする方が速い場合があります。これは、対応するホットキーを使用すると特に効果的です。
    </p>
</div>
<h2 id="http-2-messages-in-the-message-editor">メッセージエディタのHTTP/2メッセージ</h2>
<p>
    メッセージエディタは、HTTP/2メッセージをHTTP/1構文を使用して表現し、基本的に同等のHTTP/1リクエストではどのようになるかを示します。変更を加えるたびに、Burpはバックグラウンドで自動的にHTTP/2に変換し、基になるHTTP/2リクエストを更新します。一般的なテスト目的では多くの場合、使用しているプロトコルの違いによる影響はないため、HTTP/2でも通常どおりメッセージエディタを使用できます。
</p>
<p>
    このHTTP/1スタイルの表示では、HTTP/1構文の制限に縛られ、また有効なHTTP/2リクエストが生成されるように若干の正規化が必要です。HTTP/2特有のプロトコルレベルの問題をテストする場合には適していない場合があります。このような場合は、Inspectorを使用したHTTP/2の操作を推奨します。
</p>
<p>
    詳細は、<a href="../../http2/index.html">HTTP/2ドキュメント</a>を参照してください。
</p>
<h2 id="context-specific-actions">コンテキスト固有のアクション</h2>
<p>
    <strong>Actions</strong>ボタンをクリックすると、リクエストとレスポンスに対するコンテキスト固有の幅広いアクションにアクセスできます。あるいは、メッセージを右クリックして、コンテキストメニューからアクションの選択もできます。使用可能なアクションは、メッセージタイプによって異なります。これらを以下に記載します。
</p>
<div class="highlightedarea">
    <h4>注</h4>
    <p>
        エディタが表示されたツールによって、メニューに追加アイテムが含まれる場合があります(たとえば<a href="../../tools/repeater/index.html">Repeater</a>では、URLをリクエストとして貼り付け、現在のアイテムをサイトマップに追加など)。
    </p>
</div>
<h4>スキャン / ...に送信</h4>
<p>
    任意のメッセージやメッセージ内の選択した部分を、Burpの他のツールに送信して、さらなる攻撃や分析が実行できます。ツール間でリクエストを送信する機能は、Burpの<a href="../../penetration-testing/index.html">ユーザ主導ワークフロー</a>の中核をなします。
</p>
<h4>レスポンスをブラウザで表示</h4>
<p>
    選択したレスポンスをBurpブラウザ内でレンダリングさせることで、Burpの内蔵<a href="#render-tab">HTMLレンダラ</a>の制限を回避します。このオプションを選択すると、Burpブラウザにペーストできる一意なURLが生成され、レスポンスがレンダリングされます。その結果、ブラウザのリクエストがBurpによって処理され(リクエストは元のWebサーバには送信されません)、選択したレスポンスを正確に返し、最初にリクエストされたURLのコンテキストでブラウザがレスポンスを処理します。したがって、レスポンス内の相対リンクは、Burpブラウザによって正しく処理されます。その結果、ブラウザはレスポンスのレンダリングの課程で追加のリクエスト(画像やCSSなど)を行う場合があり、これらはBurpの通常の方法で処理されます。
</p>
<h4>ブラウザでリクエスト</h4>
<p>
    選択したリクエストをBurpブラウザで再送信できます。次のサブオプションがあります:
</p>
<ul>
    <li>
        <strong>元のセッションを使う</strong> - 元のリクエストにあるCookieヘッダを正確に使ったリクエストを発行します。
    </li>
    <li>
        <strong>現在のブラウザのセッションを使う</strong> -&nbsp;Burpブラウザのcookieを使ったリクエストをBurpが発行します。あるユーザコンテキスト(管理者など)で生成されたリクエストを選択し、現在ログインしている別のユーザコンテキスト(一般ユーザなど)でリクエストを再送するなど、容易にアクセス制御のテストをしたい場合にこの機能が便利です。複雑な多段階プロセスを扱っている場合は、多段階のプロセスでcookieを何度も繰り返しProxyで修正するより、手動で一連のURLをBurpからBurpブラウザに貼り付ける方が簡単です。
    </li>
</ul>
<h4>関連ツール</h4>
<p>
    <label class="label-edition is-professional">Professional</label>
    このサブメニューには、関連するタスクを実行するさまざまな便利な機能があります:
</p>
<ul>
    <li>
        <strong>参照元検索</strong> - <a href="../search.html#find-references">参照元検索</a>機能で、現在表示されているアイテムにリンクしているHTTPレスポンスを、すべてのBurpツールから検索できます。
    </li>
    <li>
        <strong>コンテンツ探索</strong> - <a href="../content-discovery.html">コンテンツ探索</a>機能で、巡回もしくはSpiderで表示されているコンテンツからはリンクされていない、コンテンツや機能を探索できます。
    </li>
    <li>
        <strong><a href="../task-scheduler.html">スケジュールタスク</a></strong> - 指定した時間や間隔で自動的に実行するタスクを作成できます。
    </li>
    <li>
        <strong>CSRF PoCジェネレータ</strong> - <a href="../generate-csrf-poc.html">CSRF PoCジェネレータ</a>機能で、ブラウザで表示したときに現在のリクエストが発行されるようなHTMLを作成できます。
    </li>
</ul>
<h4>リクエストメソッド変更</h4>
<p>
    リクエストに対して、リクエストメソッドのGETとPOSTを自動的に切り替え、関連するすべてのリクエストパラメータをリクエスト内の適切な位置に再配置します。このオプションを使用すると、入力フィルタのバイパスやクロスサイトスクリプティング攻撃の微調整など、アプリケーションのパラメータ位置の許容範囲を素早くテストできます。
</p>
<h4>ボディのエンコーディング変更</h4>
<p>
    リクエストに対して、任意のメッセージボディのエンコードを、標準のURLエンコードにするか、マルチパートにするかを切り替えられます。
</p>
<h4>URLをコピー</h4>
<p>
    現在の完全なURLをクリップボードにコピーします。
</p>
<h4>curlコマンドをコピー</h4>
<p>
    現在のリクエストを生成するcurlコマンドをクリップボードにコピーします。
</p>
<h4>ファイルにコピー</h4>
<p>
    ファイルを選択し、現在のメッセージのコンテンツをファイルにコピーできます。これは、クリップボードにコピーすると問題が発生する可能性があるようなバイナリコンテンツに便利です。選択したテキストか、何も選択していない場合はメッセージ全体がコピー処理されます。
</p>
<h4>ファイルから貼り付け</h4>
<p>
    ファイルを選択し、ファイルの内容をメッセージ内に貼り付けられます。これは、クリップボードから貼り付けると問題が発生する可能性があるようなバイナリコンテンツに便利です。選択したテキストを置き換えるか、何も選択されていなければカーソル位置に挿入されます。
</p>
<h4>アイテムを保存</h4>
<p>
    選択したリクエストとレスポンスを、レスポンス長、HTTPステータスコード、MIMEタイプなどすべての関連メタデータを含むXMLフォーマットで、選択したファイルに保存します。
</p>
<h4>選択箇所を変換</h4>
<p>
    これは<a href="#raw-tab">Rawビュー</a>にのみ適用されます。このサブメニューのアイテムで、選択したテキストをさまざまな形式で素早くエンコードまたはデコードができます。メッセージが編集可能な場合、テキストが選択されたその場所が変換されます。メッセージが編集可能でない場合は、変換結果がダイアログに表示されます。次のタイプの変換が利用できます:
</p>
<ul>
    <li>
        <strong>URL</strong> - URLエンコードまたはデコードを実行します。主要HTTP特殊文字のみ、すべての文字、すべての文字を2バイトのUnicodeエンコーディング(たとえばAは%u0041)にエンコードするか選択できます。
    </li>
    <li>
        <strong>HTML</strong> - HTMLエンコードまたはデコードを実行します。主要なHTML特殊文字のみ、すべての文字、すべての文字を10進数の数値文字参照(たとえばAは&amp;#54;)に、すべての文字を16進数の数値文字参照(たとえばAは&amp;#x41;)にエンコードするか選択できます。
    </li>
    <li>
        <strong>Base64</strong> - Base64エンコードまたはデコードを実行します。
    </li>
    <li>
        <strong>文字列生成</strong> - さまざまな言語で、選択した文字列を動的に構築するコードを生成します。SQLインジェクションのような特定の攻撃で、文字列を動的に構築して入力フィルタを回避する必要がある場合に便利です。使用可能なオプションは、JavaScriptと、各プラットフォーム(Microsoft、Oracle、MySQL)上のSQLです。
    </li>
</ul>
<h4>入力をURLエンコード</h4>
<p>
    これは<a href="#raw-tab">Rawビュー</a>にのみ適用されます。このオプションをオンにすると、&amp;や=などの文字は、入力時に自動的にURLエンコードされた同等の値に置き換えられます。
</p>
</body>
</html>