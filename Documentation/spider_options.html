<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/ps.css">
</head>
<body>
<section class="container ps-breadcrumbs">
    <ol itemscope itemtype="http://schema.org/BreadcrumbList">
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="https://support.portswigger.net/">
            <span itemprop="name">サポートセンター</span>
            <meta itemprop="position" content="1"/>
            </a>
        </li>
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="index.html">
            <span itemprop="name">ドキュメント</span>
            <meta itemprop="position" content="2"/>
            </a>
        </li>
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="spider.html">
            <span itemprop="name">Spider</span>
            <meta itemprop="position" content="3"/>
            </a>
        </li>
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="spider_options.html">
            <span itemprop="name">オプション</span>
            <meta itemprop="position" content="4"/>
            </a>
        </li>
    </ol>
</section>
<section class="maincontainer">
    <div class="container main">
        <h1>Burp Spiderオプション</h1>
        <p>
            このタブには基本的な<a href="#settings">クローラー設定</a>、<a href="#passive">パッシブスパイダリング</a>、<a href="#forms">フォーム送信</a>, <a href="#applogin">アプリケーションログイン</a>、<a href="#engine">Spiderエンジン</a>、HTTP<a href="#headers">リクエストヘッダー</a>のオプションがあります。
        </p>
        <a name="settings"></a>
        <h2>クローラー設定</h2>
        <p>
            Spiderが基本的なWebコンテンツを巡回する方法を制御します。
        </p>
        <ul>
            <li>
                <strong>robots.txtをチェックする</strong> - このオプションがオンの場合、Spiderはrobot.txtをリクエストし、コンテンツへのリンクを抽出する処理をします。このファイルはインターネット上で、Spiderのようなエージェントの動作を制御する、ロボット排除プロトコルに使われています。Spiderは、そのロボット排除プロトコルに準拠してい<i>ない</i>ことを覚えておいてください。Spiderは対象アプリケーションのコンテンツを列挙するように設計されているので、robots.txtの全てのエントリーは、スコープ内であれば全てリクエストするでしょう。
            </li>
            <li>
                <strong>カスタマイズされた"not found"レスポンスを検出する</strong> - HTTPプロトコルではリクエストされたリソースが存在しない場合404ステータスを返すよう要求しています。ただし多くのWebアプリケーションは、様々なステータスコードを使用して、カスタマイズされた"not found"ページを返します。その場合はこのオプションを使用して、サイトコンテンツのマッピングの誤検知を防げます。Burp Spiderは各ドメインで、いくつかの存在しないリソースへのリクエストを送ってカスタマイズされた"not found"ページを取得してフィンガープリントをコンパイルしておき、他のリクエストでの"not found"レスポンスの診断に使います。
            </li>
            <li>
                <strong>テキスト以外のコンテンツへのリンクを無視する</strong> - 多くの場合、特定のリソースがHTML内のどこからリンクされているか(例えば<span class="InlineCode">&lt;img&gt;</span>タグなど)によって、そのMIMEタイプが推定できます。このオプションがオンの場合、この文脈からテキストではないリソースを判断し、リクエストを行いません。このオプションを使用すると、結果として気になるコンテンツを見落とすリスクを最小限の抑えながら、巡回時間が短縮できます。
            </li>
            <li>
                <strong>すべてのディレクトリーのルートにリクエストする</strong> - オンにした場合、Spiderはターゲットスコープの範囲内で、ディレクトリー内のファイルに加えて、発見された全てのディレクトリーに対してもリクエストを送ります。ターゲットサイトでディレクトリーインデックスが有効な場合、このオプションは特に便利です。
            </li>
            <li>
                <strong>各動的ページにパラメーターなしのリクエストを送る</strong> - オンにした場合、スコープ内のクエリーストリングパラメーターが付いている全てのURLに、パラメーターを付けないGETリクエストを送信します。通常動的ページは、予想されるパラメーターが受信できない場合異なる反応をするため、このオプションで追加のサイトコンテンツや機能を検出できる可能性があります。
            </li>
            <li>
                <strong>リンクの最大の深さ</strong> - これはSpiderが開始URLから移動する"ホップ"の最大値です。0の場合、Spiderは開始URLのみをリクエストします。非常に大きい値を指定すると、スコープ内リンクをほぼ無限にたどります。このオプションを適切な値に設定すると、一部の動的コンテンツで起こる巡回のループが防げます。
            </li>
            <li>
                <strong>URLごとのパラメター付きリクエストの最大数</strong> - 同じベースURLに対して異なるパラメーターのリクエストを生成する最大値です。このオプションを適切な値にすると、URLに日付パラメーターを持つカレンダーアプリケーションで、コンテンツの"無限"巡回を防げます。
            </li>
        </ul>
        <a name="passive"></a>
        <h2>パッシブスパイダリング</h2>
        <p>
            パッシブスパイダリングは、新たなリクエストを生成せず、Burp Proxyトラフィックの監視によってサイトマップを更新します。これにより、<a href="target_using.html#manualmapping">ブラウザを使用した</a>非常に制御された方法で、アプリケーションのコンテンツと機能をマッピングできます。
        </p>
        <p>
            次のオプションでパッシブスパイダリングを制御します:
        </p>
        <ul>
            <li>
                <strong>ブラウザからのアクセスをパッシブスパイダリングする</strong> - オンの場合、Burp Proxyを通過した全てのHTTPリクエストとレスポンスを処理し、あなたがアクセスしたページからリンクやフォームを特定します。このオプションを使用すると、もしあなたがアプリケーションのコンテンツの一部だけをブラウズしていたとしても、そのコンテンツからリンクされている全てを見つけられるため、詳細な全体像を構築できます。あなたがリクエストしたコンテンツはTargetの<a href="target_sitemap.html">サイトマップ</a>に黒色で、リクエストしていないコンテンツは灰色で表示されるため、<a href="target_using.html#unrequesteditems">さらに</a><a href="target_using.html#discovery">マッピング</a>が必要なアプリケーション領域を簡単に特定できるようになります。
            </li>
            <li>
                <strong>Proxyリクエストに関連づけるリンクの深さ</strong> - このオプションは、Burp Proxyを経由してアクセスしたURLに関連づけられる"リンクの深さ"を制御します。
            </li>
        </ul>
        <a name="forms"></a>
        <h2>フォーム送信</h2>
        <p>
            これらの設定で、SpiderがHTMLフォームを送信する方法を制御します。ほとんどのアプリケーションで、リンクされたURLを単純に遷移するだけでは限られた範囲しか記録できません。アプリケーションの全てのコンテンツや機能を発見するには、一般的にフォームに現実的な入力をして送信する必要があります。
        </p>
        <p>
            次のオプションがあります:
        </p>
        <ul>
            <li>
                <strong>フォームの同一性判断</strong> - このオプションは、固有のフォームだと判断する基準(送信先URL・メソッド・フィールド・値)を設定します。Spiderがそれぞれのフォームを処理する際、これらの条件をチェックして"新しい"フォームかどうか決定します。新しいフォームは、他のフォーム送信オプションに従って送信されるよう、キューに入れられます。このオプションを慎重に使用すると、様々なフォームベースのサイト構成のアプリケーションに対処できます。
            </li>
            <li>
                <strong>フォームを送信しない </strong>- 選択した場合、フォームを送信しません。
            </li>
            <li>
                <strong>ガイダンスを表示する</strong> - 選択した場合、各フォームを送信する前にガイダンスプロンプトを表示します。対話式のプロンプトでは、入力が必要なフィールドへのカスタムデータの入力、サーバーに送信する値の選択、そして全ての選択可能なパターンの組み合わせの列挙が可能です。
            </li>
            <li>
                <strong>自動送信する</strong> - 選択した場合、スコープ内のフォームに対して、定義されたルールを使用してテキスト入力フィールドに値を代入し自動で送信します。フォームのフィールド名に一致する単純な文字列または正規表現と、マッチした場合送信する値を、各ルールに指定できます。どのフィールドにもマッチしない場合のデフォルト値が指定できます。<br><br>アプリケーションが各入力フィールドに有効なデータを要求するような、登録フォームや同等の機能を自動で巡回したい場合に、このオプションは特に便利です。多くのアプリケーションで自動的にフォーム送信に成功した実績のあるデフォルト値が、Burpに付属しています。これらの値は変更でき、あるいは特定の値を送信する必要があるフォームフィールドがある場合は独自のルールの追加もできます。このオプションを使用する場合は、フォームで嘘の値を送信すると望ましくない挙動が発生する可能性に注意してください。<br><br>多くのフォームには複数のSUBMIT要素があり、アプリケーション内で異なる挙動を示し、異なるコンテンツが表示されます。フォーム内の全てのsubmit値を繰り返し送信するよう設定ができ、最大繰返し回数も設定できます。
            </li>
        </ul>
        <a name="applogin"></a>
        <h2>アプリケーションログイン</h2>
        <p>
            Spiderによるログインフォームの送信方法を設定します。
        </p>
        <p>
            Webアプリケーションで認証機能を再現するため、普通のフォームとは異なる方法でログインフォームを処理して欲しいでしょう。ログインフォームがあった場合、４種類の異なるアクションから１つを選択できます:
        </p>
        <ul>
            <li>
                認証情報を持っていないか、機密情報に対するアクセスに懸念がある場合、Burpはログインフォームを無視できます。
            </li>
            <li>
                対話プロンプトを表示し、ケースバイケースで認証情報を指定できます。これがデフォルトのオプションです。
            </li>
            <li>
                他のフォームと同様に、自動埋め込みルールを使ってログインフォームを処理できます。
            </li>
            <li>
                Burpが検出した全てのログインフォームで、指定した認証情報を自動的に送信できます。Burpは、パスワードフィールドに指定したパスワードを入力し、ユーザー名フィールドっぽいフィールドに指定したユーザー名を入力します。
            </li>
        </ul>
        <p>
            自動巡回中に、Suite全体の<a href="options_sessions.html#sessionrules">セッション管理ルール</a>も使用できます。アプリケーションで有効なセッションを維持するためにセッション管理ルールを使う場合は、セッション切れを避けるために、Spiderではログインフォームを送信しないよう設定する必要があります。&nbsp;
        </p>
        <a name="engine"></a>
        <h2>Spiderエンジン</h2>
        <p>
            巡回中にHTTPリクエストを生成するエンジンの挙動を設定します。次のオプションがあります:
        </p>
        <ul>
            <li>
                <strong>スレッド数</strong> - Spiderが生成できる同時リクエスト数を制御します。
            </li>
            <li>
                <strong>ネットワークエラー時のリトライ回数</strong> - 接続エラーやその他のネットワークの問題が発生した場合、Burpがリクエストを諦めるまでの回数を指定します。テスト中に断続的にネットワーク障害が起こる場合は、失敗時に数回リクエストの再試行をお勧めします。
            </li>
            <li>
                <strong>リトライ前の一次停止</strong> - 失敗したリクエストを再試行する場合、Burpは再試行する前に指定した時間(ミリ秒)待ちます。サーバーのトラフィックを圧迫している場合、または断続的に問題が起きている場合は、再試行前に短時間のウェイトをお勧めします。
            </li>
            <li>
                <strong>リクエスト間のウェイト</strong> - 必要に応じて、全てのリクエストの前に指定した時間(ミリ秒)のウェイトを入れられます。アプリケーションの負荷を避けたい場合や、こっそりと実行したい場合、このオプションが便利です。
            </li>
            <li>
                <strong>ランダムなウェイトを追加する</strong> - このオプションで、リクエストのタイミングのパターンを減少させると、さらにステルス性を上げられます。
            </li>
        </ul>
        <p>
            アプリケーションのパフォーマンスへの影響やあなた自身の処理能力や帯域幅に応じて慎重に設定すると、自動巡回エンジンパフォーマンスが微調整できます。もしSpiderの動作が遅い場合で、ただしアプリケーションのパフォーマンスが良く自分のCPU利用率も低いようであれば、巡回をするスレッド数を増やせます。接続エラーの発生を見つけた場合で、アプリケーションが遅い場合、または自分のコンピューターがハングアップする場合、スレッド数を減らし、ネットワーク障害時のリトライ回数と再送間隔を増やすべきです。
        </p>
        <a name="headers"></a>
        <h2>リクエストヘッダー</h2>
        <p>
            Spiderが生成するHTTPリクエストのヘッダーを制御します。
        </p>
        <p>
            Spiderのリクエストが使うカスタムヘッダーの一覧を設定できます。個々のアプリケーションの特定の要件を満たさせる場合、例えばモバイルデバイス向けに設計されたアプリケーションをテストする際に期待通りのユーザーエージェントをエミュレートする場合など、このオプションが便利です。
        </p>
        <p>
            次のオプションがあります:
        </p>
        <ul>
            <li>
                <strong>HTTPバージョン1.1を使用する</strong> - オンにした場合、SpiderはHTTPのバージョン1.1を使います。オフの場合は1.0を使います。
            </li>
            <li>
                <strong>Refererヘッダーを使用する</strong> - オンの場合、他のページからリンクされたアイテムをリクエストする際に関連するRefererヘッダーを送信します。このオプションはブラウザのリクエストを厳密にシミュレートしたい場合に便利で、Refererヘッダーを検証する一部のアプリケーションで遷移するために必要です。
            </li>
        </ul>
    </div>
</section>
</body>
</html>